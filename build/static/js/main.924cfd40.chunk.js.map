{"version":3,"sources":["components/Filter.js","components/AddPerson.js","components/Person.js","components/PersonList.js","services/persons.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","filter","handleChange","value","onChange","AddPerson","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Person","person","deletePerson","name","number","onClick","id","PersonList","persons","personsFiltered","toLowerCase","includes","map","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","App","useState","setPersons","setNewName","setNewNumber","setFilter","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","event","target","preventDefault","some","window","confirm","updatedPerson","find","p","setTimeout","catch","error","returnedPerson","concat","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.924cfd40.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Filter = ({ filter, handleChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input\r\n        value={filter}\r\n        onChange={handleChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst AddPerson = ({ addPerson, newName, handlePersonChange, newNumber, handleNumberChange}) => {\r\n  return (\r\n    <div>\r\n      <h2>Add a new</h2>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input\r\n            value={newName}\r\n            onChange={handlePersonChange}\r\n          />\r\n          <div>\r\n            number: <input\r\n              value={newNumber}\r\n              onChange={handleNumberChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddPerson","import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}\r\n      <button onClick={() => deletePerson(person.id)}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from \"react\"\r\nimport Person from \"./Person\"\r\n\r\nconst PersonList = ({ persons, filter, deletePerson }) => {\r\n\r\n  const personsFiltered = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      {personsFiltered.map(person =>\r\n        <Person key={person.id} person={person} deletePerson={deletePerson} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonList","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = newObject => {\r\n    const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from \"react\"\r\n\r\nconst Notification = ({ message }) => {\r\n  const notificationStyle = {\r\n      color: 'green',\r\n      background: 'lightgrey',\r\n      fontSize: 20,\r\n      borderStyle: 'solid',\r\n      borderRadius: 5,\r\n      padding: 10,\r\n      marginBottom: 10\r\n  }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return(\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from \"react\"\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n  const notificationStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorNotification","import { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport AddPerson from './components/AddPerson'\nimport PersonList from './components/PersonList'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n\n        const updatedPerson = {\n          name: newName,\n          number: newNumber,\n          id: persons.find(p => p.name === newName).id\n        }\n\n        personService\n          .update(updatedPerson)\n          .then(() => {\n            setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\n            setNewName('')\n            setNewNumber('')\n            setNotificationMessage(`Number changed for ${updatedPerson.name}`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of '${updatedPerson.name}' was already removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n\n      } else {\n        setNewName('')\n        setNewNumber('')\n      }\n\n    } else {\n\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      }\n\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(`Added ${returnedPerson.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const deletePerson = id => {\n    const person = persons.find(p => p.id === id)\n\n    if (window.confirm(`Delete ${person.name}`)) {\n      personService\n        .remove(id)\n        .then(() => { setPersons(persons.filter(p => p.id !== person.id)) })\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter filter={filter} handleChange={handleFilterChange} />\n      <AddPerson addPerson={addPerson} newName={newName} handlePersonChange={handlePersonChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <PersonList persons={persons} filter={filter} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\nimport App from './App'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}